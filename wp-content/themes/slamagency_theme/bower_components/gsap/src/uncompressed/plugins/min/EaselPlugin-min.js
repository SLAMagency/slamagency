/*!
 * VERSION: 0.1.6
 * DATE: 2014-07-17
 * UPDATES AND DOCS AT: http://www.greensock.com
 *
 * @license Copyright (c) 2008-2015, GreenSock. All rights reserved.
 * This work is subject to the terms at http://greensock.com/standard-license or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 **/
var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";var e=/(\d|\.)+/g,t,r,i=["redMultiplier","greenMultiplier","blueMultiplier","alphaMultiplier","redOffset","greenOffset","blueOffset","alphaOffset"],n={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},l=function(t){return""===t||null==t||"none"===t?n.transparent:n[t]?n[t]:"number"==typeof t?[t>>16,t>>8&255,255&t]:"#"===t.charAt(0)?(4===t.length&&(t="#"+t.charAt(1)+t.charAt(1)+t.charAt(2)+t.charAt(2)+t.charAt(3)+t.charAt(3)),t=parseInt(t.substr(1),16),[t>>16,t>>8&255,255&t]):t.match(e)||n.transparent},o=function(e,r,n){if(!t&&(t=_gsScope.ColorFilter||_gsScope.createjs.ColorFilter,!t))throw"EaselPlugin error: The EaselJS ColorFilter JavaScript file wasn't loaded.";for(var o=e.filters||[],s=o.length,a,u,f,c,p;--s>-1;)if(o[s]instanceof t){u=o[s];break}if(u||(u=new t,o.push(u),e.filters=o),f=u.clone(),null!=r.tint)a=l(r.tint),c=null!=r.tintAmount?Number(r.tintAmount):1,f.redOffset=Number(a[0])*c,f.greenOffset=Number(a[1])*c,f.blueOffset=Number(a[2])*c,f.redMultiplier=f.greenMultiplier=f.blueMultiplier=1-c;else for(p in r)"exposure"!==p&&"brightness"!==p&&(f[p]=Number(r[p]));for(null!=r.exposure?(f.redOffset=f.greenOffset=f.blueOffset=255*(Number(r.exposure)-1),f.redMultiplier=f.greenMultiplier=f.blueMultiplier=1):null!=r.brightness&&(c=Number(r.brightness)-1,f.redOffset=f.greenOffset=f.blueOffset=c>0?255*c:0,f.redMultiplier=f.greenMultiplier=f.blueMultiplier=1-Math.abs(c)),s=8;--s>-1;)p=i[s],u[p]!==f[p]&&n._addTween(u,p,u[p],f[p],"easel_colorFilter");if(n._overwriteProps.push("easel_colorFilter"),!e.cacheID)throw"EaselPlugin warning: for filters to display in EaselJS, you must call the object's cache() method first. "+e},s=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],a=.212671,u=.71516,f=.072169,c=function(e,t){if(!(e instanceof Array&&t instanceof Array))return t;var r=[],i=0,n=0,l,o;for(l=0;4>l;l++){for(o=0;5>o;o++)n=4===o?e[i+4]:0,r[i+o]=e[i]*t[o]+e[i+1]*t[o+5]+e[i+2]*t[o+10]+e[i+3]*t[o+15]+n;i+=5}return r},p=function(e,t){if(isNaN(t))return e;var r=1-t,i=r*a,n=r*u,l=r*f;return c([i+t,n,l,0,0,i,n+t,l,0,0,i,n,l+t,0,0,0,0,0,1,0],e)},h=function(e,t,r){isNaN(r)&&(r=1);var i=l(t),n=i[0]/255,o=i[1]/255,s=i[2]/255,p=1-r;return c([p+r*n*a,r*n*u,r*n*f,0,0,r*o*a,p+r*o*u,r*o*f,0,0,r*s*a,r*s*u,p+r*s*f,0,0,0,0,0,1,0],e)},g=function(e,t){if(isNaN(t))return e;t*=Math.PI/180;var r=Math.cos(t),i=Math.sin(t);return c([a+r*(1-a)+i*-a,u+r*-u+i*-u,f+r*-f+i*(1-f),0,0,a+r*-a+.143*i,u+r*(1-u)+.14*i,f+r*-f+i*-.283,0,0,a+r*-a+i*-(1-a),u+r*-u+i*u,f+r*(1-f)+i*f,0,0,0,0,0,1,0,0,0,0,0,1],e)},_=function(e,t){return isNaN(t)?e:(t+=.01,c([t,0,0,0,128*(1-t),0,t,0,0,128*(1-t),0,0,t,0,128*(1-t),0,0,0,1,0],e))},b=function(e,t,i){if(!r&&(r=_gsScope.ColorMatrixFilter||_gsScope.createjs.ColorMatrixFilter,!r))throw"EaselPlugin error: The EaselJS ColorMatrixFilter JavaScript file wasn't loaded.";for(var n=e.filters||[],l=n.length,o,a,u;--l>-1;)if(n[l]instanceof r){u=n[l];break}for(u||(u=new r(s.slice()),n.push(u),e.filters=n),a=u.matrix,o=s.slice(),null!=t.colorize&&(o=h(o,t.colorize,Number(t.colorizeAmount))),null!=t.contrast&&(o=_(o,Number(t.contrast))),null!=t.hue&&(o=g(o,Number(t.hue))),null!=t.saturation&&(o=p(o,Number(t.saturation))),l=o.length;--l>-1;)o[l]!==a[l]&&i._addTween(a,l,a[l],o[l],"easel_colorMatrixFilter");if(i._overwriteProps.push("easel_colorMatrixFilter"),!e.cacheID)throw"EaselPlugin warning: for filters to display in EaselJS, you must call the object's cache() method first. "+e;i._matrix=a};_gsScope._gsDefine.plugin({propName:"easel",priority:-1,version:"0.1.6",API:2,init:function(e,t,r){this._target=e;var i,n,l,s;for(i in t)"colorFilter"===i||"tint"===i||"tintAmount"===i||"exposure"===i||"brightness"===i?l||(o(e,t.colorFilter||t,this),l=!0):"saturation"===i||"contrast"===i||"hue"===i||"colorize"===i||"colorizeAmount"===i?s||(b(e,t.colorMatrixFilter||t,this),s=!0):"frame"===i?(this._firstPT=n={_next:this._firstPT,t:e,p:"gotoAndStop",s:e.currentFrame,f:!0,n:"frame",pr:0,type:0,r:!0},n.c="number"==typeof t[i]?t[i]-n.s:"string"==typeof t[i]?parseFloat(t[i].split("=").join("")):0,n._next&&(n._next._prev=n)):null!=e[i]&&(this._firstPT=n={_next:this._firstPT,t:e,p:i,f:"function"==typeof e[i],n:i,pr:0,type:0},n.s=n.f?e[i.indexOf("set")||"function"!=typeof e["get"+i.substr(3)]?i:"get"+i.substr(3)]():parseFloat(e[i]),n.c="number"==typeof t[i]?t[i]-n.s:"string"==typeof t[i]?parseFloat(t[i].split("=").join("")):0,n._next&&(n._next._prev=n));return!0},set:function(e){for(var t=this._firstPT,r=1e-6,i;t;)i=t.c*e+t.s,t.r?i=Math.round(i):r>i&&i>-r&&(i=0),t.f?t.t[t.p](i):t.t[t.p]=i,t=t._next;this._target.cacheID&&this._target.updateCache()}})}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()();