function getVennDuration(){return console.log("duration: "+vennDurationValueCache),vennDurationValueCache}function updateVennDuration(e){vennDurationValueCache=2*jQuery(window).innerHeight()}function setup(){circle_1.start={},circle_1.end={},circle_1.start.x=-start_size,circle_1.start.y=0,circle_1.start.size=start_size,circle_1.end.x=ctx.width/2-dist,circle_1.end.y=ctx.height/2-dist*sqrt(3)/2,circle_1.end.size=200,circle_1.delay=0,circle_1.length=200,circle_2.start={},circle_2.end={},circle_2.start.x=ctx.width+start_size,circle_2.start.y=0,circle_2.start.size=start_size,circle_2.end.x=ctx.width/2+dist,circle_2.end.y=ctx.height/2-dist*sqrt(3)/2,circle_2.end.size=200,circle_2.delay=150,circle_2.length=200,circle_3.start={},circle_3.end={},circle_3.start.x=ctx.width/2,circle_3.start.y=ctx.height+start_size,circle_3.start.size=start_size,circle_3.end.x=ctx.width/2,circle_3.end.y=ctx.height/2+dist*sqrt(3)/2,circle_3.end.size=200,circle_3.delay=300,circle_3.length=200}function get_pos(e,t){return pos={},time=0,t>e.delay&&(time=sin_ease((t-e.delay)/e.length,2)),t>e.length+e.delay&&(time=1),pos.x=e.start.x+(e.end.x-e.start.x)*time,pos.y=e.start.y+(e.end.y-e.start.y)*time,t>convergence&&(time=sin_ease((t-convergence)/convergence_length,2),pos.x=e.end.x+(ctx.width/2-e.end.x)*time,pos.y=e.end.y+(ctx.height/2-e.end.y)*time),pos}function get_size(e,t){return time=0,t>e.delay&&(time=sin_ease((t-e.delay)/e.length,2)),t>e.length+e.delay&&(time=1),size=e.start.size+(e.end.size-e.start.size)*time,t>convergence+convergence_length&&(time=sin_ease((t-(convergence+convergence_length))/convergence_length,2),size=e.end.size+(ctx.width-e.end.size)*time),size}function sin_ease(e,t){return pow(.5+.5*Math.sin((e-.5)*PI),t)}var vennContainer=document.getElementById("venn-container"),ctx=Sketch.create({container:vennContainer,autopause:!1}),venn_duration=jQuery("#venn").innerHeight();console.log("venn_duration",venn_duration);var vennDurationValueCache;jQuery(window).on("resize",updateVennDuration),jQuery(window).triggerHandler("resize");var vennController=new ScrollMagic.Controller({globalSceneOptions:{}}),frame=0,vennTimeline=new TimelineMax;vennTimeline.to(window,3*getVennDuration(),{frame:1e3},0);var resultsTimeline=new TimelineMax,vennScene=new ScrollMagic.Scene({triggerElement:"#venn-container",triggerHook:0,reverse:!0}).duration(getVennDuration()/2*5).setTween(vennTimeline).setPin("#venn-container",{pushFollowers:!1}).addTo(vennController),resultsScene=new ScrollMagic.Scene({triggerElement:"#results",triggerHook:.4,reverse:!0}).duration(getVennDuration()/2*1.5-250).setPin("#results").addTo(vennController);dist=120,start_size=600;var circle_1={},circle_2={},circle_3={};setup(),jQuery(window).on("resize",setup);var pos={};pos.x=ctx.width/2,pos.y=ctx.height/2;var go={};go.x=pos.x,go.y=pos.y;var size=10,convergence=600,convergence_length=200,maskCanvas=document.createElement("canvas");maskCanvas.width=ctx.width,maskCanvas.height=ctx.height;var maskCtx=maskCanvas.getContext("2d"),magenta="rgba(177,	61,		150,	.85)",blue="rgba(26, 	60, 	107,	.85)",mint="rgba(166,	220,	209,	.85)",green="rgba(62,	185,	128, 	.85)";ctx.draw=function(){frame>convergence+convergence_length&&(fade=sin_ease((frame-(convergence+convergence_length))/convergence_length,2),ctx.globalAlpha=1-fade),pos3=get_pos(circle_3,frame),size3=get_size(circle_3,frame),ctx.fillStyle=mint,ctx.beginPath(),ctx.arc(pos3.x,pos3.y,size3,0,TWO_PI),ctx.rect(ctx.width,0,-ctx.width,ctx.height),ctx.font=size3/5+"px Oswald",ctx.textAlign="center",ctx.fillText("INTUITION",pos3.x,pos3.y+size3/2),ctx.fill(),pos2=get_pos(circle_2,frame),size2=get_size(circle_2,frame),ctx.fillStyle=magenta,ctx.beginPath(),ctx.arc(pos2.x,pos2.y,size2,0,TWO_PI),ctx.rect(ctx.width,0,-ctx.width,ctx.height),ctx.font=size2/5+"px Oswald",ctx.fillText("SCIENCE",pos2.x+size2/2,pos2.y),ctx.fill(),ctx.globalCompositeOperation="xor",pos1=get_pos(circle_1,frame),size1=get_size(circle_1,frame),ctx.fillStyle=blue,ctx.beginPath(),ctx.arc(pos1.x,pos1.y,size1,0,TWO_PI),ctx.rect(ctx.width,0,-ctx.width,ctx.height),ctx.font=size1/5+"px Oswald",ctx.fillText("ART",pos1.x-size1/2,pos1.y),ctx.fill(),ctx.fillStyle="transparent",ctx.lineWidth=4,ctx.strokeStyle="#FFFFFF",ctx.beginPath(),ctx.arc(pos3.x,pos3.y,size3+2,0,TWO_PI),ctx.stroke(),ctx.beginPath(),ctx.arc(pos2.x,pos2.y,size2+2,0,TWO_PI),ctx.stroke(),ctx.beginPath(),ctx.arc(pos1.x,pos1.y,size1+2,0,TWO_PI),ctx.stroke()};